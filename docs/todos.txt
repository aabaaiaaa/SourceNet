TODOs

Review the systems in place for handling missions and scripted events and objective tracking as I need to understand how to picture these systems and how best they should integrate with each other as the biggest issues have come from changes in these areas. Each system needs to have a role and individual responsibility so there's not internal variables being changed by external systems. It will then aid in writing test cases for each system.


(done)
There's sometimes a situation when files that are being pasted to a specific location are not registering as being pasted there even though the file is shown in the expected backup file system. Now given as a developer I can see the console log messages, I could see that one file just didn't have the same IP as the other files I pasted. I cannot say why this was the case, but I was using 2 app instances of the File Manager app, so maybe when I'm performing operations in one on another file system it interferes with the other operations in the other File Manager instance. So there might be multiple areas that need looking at here. 1) I'd like to be able to perform operations in one instance of File Manager that do not interfere with operations in another File Manager app - they do share the copy and paste abilities, but that seems logical. 2) It might help to update the active mission objectives in the mission board app to show the details of which files are needed in what locations and which of those the player has been detected to have completed - then at least the player could atttempt to retry the dodgy file that has not registered correctly.
To add something else to try to reproduce this or another issue, if you have two File Manager instances and you have each pasting a file into the same location from two different locations, you do not end up with both files pasting correctly in the shared location. Create a test for this that fails first, then write a fix.


(done)
When pasting files to a location in the File Manager app, it currently shows a progress bar, but can it also show the transfer rate and time (in game time) till complete as well as it would be nice that for large file transfers the player might decide to perform a disconnection from other networks to free up bandwidth to make the transfer faster.


(done)
There is logic to help name the NAR entries based on the client/mission for generated missions, but this logic which is to have at least 4 characters to a network name is not enough as in situations like "Metro Police Department" it might be that there's a few "Metro" type clients, so I need this logic to take at least 10 characters to help there be better uniqueness for network NAR attachment names.


(done - needs testing as it didn't work first time)
Once a mission expires in the mission board app, after 1 minute of in game time and new mission should be generated.


(done - needs testing)
When performing file operations, the File Manager app automatically scrolls down to the log at the bottom of the app. I don't think it should do this as the player might not expect it - we don't do this anywhere else at the moment. But it might mean e2e tests might need to scroll if they are looking for visible elements.


(done)
You can fail if you delete files you need.

(done)
The game is not at version 1.0 yet. Can you make a change that allows this to be known so any future development does not attempt to use backward compatibility or cater for legacy support for old code.
Version set to 0.1.0-alpha. Pre-1.0 policy added to CLAUDE.md. All legacy code removed.


(done - needs testing)
The mission generation system seems to be working very well. I want to extend the scope of the client list by having a location property that can be associated with clients. For example, some clients might cover multiple regions or counties whereas some smaller clients might only operate locally. Another example could be Government departments, which might be broken down into particular areas. Some locations could be international or on remote islands, and some locations might be at sea for any oil rig/wind turbine farms or boat related clients like cruse ships or large container ships.
There is already several dynamic layers to how clients are generated and it should be expected that over the cause of this development, the layers that are available to make clients and missions more unique will increase to make them feel fresh and to allow more client specific missions.


(done - needs testing - then needs continuing to create the next story mission)
The next chapter of the story based missions needs to trigger once the player has finished the tutorial missions (the "that's better" message from their manager) and gotten into the black with their bank account, as by the end of the tutorial, they are about negative 9000. The wording on the "that's better" message from the manager is that they will get back in contact once the player is back in the black. So once the player has completed enough missions to get out of debt, their manager should send a message saying how the player has worked hard to get out of debt and how they think maybe it's time to get involved with some new type of work.
Technically, the two triggers for this event are the "that's better" message that is sent and the player's credit is positive. Specifically the positive credits need to be at least 1000.
This new type of work will involve new pieces of software and a new piece of hardware. Hardware has not been enabled yet so this change will need hardware to be able to be purchased and for the installation process to be completed as hardware will require a reboot (using the power menu) to reboot the player's terminal to allow the old hardware to be removed and the new hardware to be installed. The boot sequence should now show that new hardware when booting. Each piece of hardware will have a stat that changes the performance of the player's machine.
The first bit of hardware that will be available is a better network adapter, so bandwidth can be increased and operations over networks could potentially be faster. This game progression should make all the existing mission types (operations with files) quicker to complete and therefore take less time of the player to complete.
There may need to be a change to the bandwidths networks are given as it's highly likely that networks would have bandwidths 10 to 100x that of a single machine connection. The bottle neck needs to be the player's terminal hardware being too slow in order to encourage the player to purchase new hardware to take on more complicated missions.
I don't really want specific hardware for specific software to run. I prefer standard hardware components and then to have different software performance to be affected by the current hardware installed. Some hardware will have actual limits like PSU (you cannot power more than the max rating), but for CPU you can run lots of software, but everything requiring CPU power would just run slower. The RAM you have will have a max limit for example, so this will restrict the number of apps you can have open as well as possibly some apps only needing more RAM when operating (they might build up RAM usage over time).
Back to the software side, I am interested in a log viewer, but not an extension of the file manager app, but it's own app that can retrieve logs from network devices (not specifically devices with file systems). The log viewer app has a "type" of log that is retrieved (remote connections, file operations, processes) and a drop down for which network device to attempt to retrieve logs from. It might make sense that the type "file operations" might only have logs for devices with file systems on them.
This log viewer app alone would integrate with the existing network scanner (as it discovers devices that can be used by the log viewer) and the file manager app (as file operations produce file operation logs) - well the current file operation logs are just transient and are not persisted but can be and any mission generation could be extended to add in logs required for any mission objectives. It's UI would have a deveice drop down (no need for a network drop down as it will list all connected network devices).
Another app (Data Recovery Tool) that I think would go well with the log viewer is an app that can scan file systems and identify deleted files and can restore them so the file manager can then see them again. Files will need to have a delete state that is recoverable and one that is securely deleted (unrecoverable). There's no network drop down, just a file system drop down for all connected file systems. This new Data Recovery Tool will also have a secure delete function that completely removes a file with no way to restore it. This app should have two separate parts to it as the secure delete will also need to list files within the file system to securely remove - it sounds similar to the function of delete already in the file manager app, but the delete process here will take longer than a normal delete based on file size. Log entries should be made for secure delete operations like the file operations from the File Manager app.
The existing file manager app delete operation will now need to set a deleted flag against files now.
For both of these new apps, they would require bandwidth to "scan" devices or file systems and bandwidth for restoring a deleted file based on aspects like file size.
For the hardware side, I would prefer to just make the network adapter hardware available, so generally the quality of life for the player is increased and wait times for transfering files is reduced (less boring). All other hardware will need to stay unavailable for now.
The way the hardware and software should be "unlocked" for the player is via a story event that is triggered on the reading of the new manager message.
I will want an e2e test that loads up the post tutorial scenario and uses the debug menu to make credits 1000+ to trigger the new manager message.
I will want to generate a new scenario that is up to just before reading the new manager message.
I will want an e2e test to show that the network adapter hardware is not available before reading the new manager message and is available afterwards.
I will want an e2e test that reads the new manager message and then checks the new log viewer and data restoration tool is available to purchase but were unavailable before.
I will want to generate a new scenario that has the new manager message read, the new network adpater installed and both new apps installed.
I will want tests for the hardware purchasing and reboot mechanism (reboots are required for installing new hardware before they take affect).
I will want tests for the 2 new apps - they should be unit and integration tests because there are no missions being generated yet that these can be tested with and integration tests can manually set state to show the log viewer and data restoration tool working.
The actual story mission I will leave for now and add in after this work is complete.
Make a plan please.


Log Viewer and Data Recovery Tool apps are pretty broken - I'd almost say they need recreating.
The Log Viewer does not take into account that the player needs to be connected to a network before it should show any networks in it's drop down and the same is true with the device drop down. Also, the log type is only an option for device level logs but still shows for network.
I think these just need recreating once Claude is available again...