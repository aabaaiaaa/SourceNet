{
  "missionId": "tutorial-part-1",
  "title": "Log File Repair",
  "client": "Client A - TechCorp Industries",
  "difficulty": "Beginner",
  "basePayout": 2000,
  "category": "story-tutorial",
  "oneTime": true,
  "triggers": {
    "start": {
      "type": "timeSinceEvent",
      "event": "softwareInstalled",
      "condition": {
        "softwareId": "mission-board"
      },
      "delay": 0
    }
  },
  "requirements": {
    "software": [
      "vpn-client",
      "network-address-register",
      "network-scanner",
      "file-manager"
    ],
    "reputation": null,
    "credits": null
  },
  "network": {
    "networkId": "clienta-corporate",
    "networkName": "ClientA-Corporate",
    "address": "192.168.50.0/24",
    "bandwidth": 50,
    "revokeOnComplete": true,
    "revokeReason": "Mission access expired",
    "fileSystems": [
      {
        "id": "fs-clienta-01",
        "ip": "192.168.50.10",
        "name": "fileserver-01",
        "files": [
          {
            "name": "log_2024_01.txt",
            "size": "2.5 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_02.txt",
            "size": "3.1 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_03.txt",
            "size": "2.8 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_04.txt",
            "size": "3.2 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_05.txt",
            "size": "2.9 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_06.txt",
            "size": "3.0 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_07.txt",
            "size": "2.7 KB",
            "corrupted": true
          },
          {
            "name": "log_2024_08.txt",
            "size": "3.3 KB",
            "corrupted": true
          },
          {
            "name": "log_2023_11.txt",
            "size": "2.4 KB",
            "corrupted": false
          },
          {
            "name": "log_2023_12.txt",
            "size": "2.6 KB",
            "corrupted": false
          },
          {
            "name": "system.log",
            "size": "1.2 KB",
            "corrupted": false
          }
        ]
      }
    ]
  },
  "objectives": [
    {
      "id": "obj-1",
      "description": "Connect to ClientA-Corporate network",
      "type": "networkConnection",
      "target": "clienta-corporate"
    },
    {
      "id": "obj-2",
      "description": "Scan network to find fileserver-01",
      "type": "networkScan",
      "target": "clienta-corporate",
      "expectedResult": "fileserver-01"
    },
    {
      "id": "obj-3",
      "description": "Connect to fileserver-01 file system",
      "type": "fileSystemConnection",
      "target": "192.168.50.10"
    },
    {
      "id": "obj-4",
      "description": "Repair all corrupted files",
      "type": "fileOperation",
      "operation": "repair",
      "target": "all-corrupted",
      "count": 8
    }
  ],
  "scriptedEvents": [
    {
      "id": "sabotage-deletion",
      "trigger": {
        "type": "afterObjectiveComplete",
        "objectiveId": "obj-4",
        "delay": 5000
      },
      "actions": [
        {
          "type": "forceFileOperation",
          "operation": "delete",
          "files": "all-repaired",
          "visual": "progressBar",
          "duration": 10000,
          "playerControl": false
        },
        {
          "type": "forceDisconnect",
          "network": "clienta-corporate",
          "reason": "Network administrator terminated connection"
        },
        {
          "type": "revokeNAREntry",
          "network": "clienta-corporate",
          "reason": "Access credentials revoked by network administrator"
        },
        {
          "type": "setMissionStatus",
          "status": "failed",
          "failureReason": "Files deleted instead of repaired"
        }
      ]
    }
  ],
  "consequences": {
    "success": {
      "credits": 2000,
      "reputation": 0,
      "messages": []
    },
    "failure": {
      "credits": -10000,
      "reputation": -6,
      "messages": [
        {
          "id": "manager-angry",
          "delay": 10000,
          "from": "manager",
          "subject": "What happened?!",
          "templateId": "tutorial-1-failure"
        }
      ],
      "note": "Bank overdraft message triggered by Banking System (not story)"
    }
  },
  "followUpMissions": {
    "onSuccess": [],
    "onFailure": [
      "tutorial-part-2"
    ]
  }
}